# 游댢 SPUSTI콗 VETKY PROCESY - Kop칤rova콘 a spusti콘 na serveri

# === KROK 1: Prejs콘 do adres치ra ===
cd /var/www/premarketprice

# === KROK 2: Skontrolova콘 aktu치lny stav ===
pm2 status

# === KROK 3: Spusti콘 v코etky procesy z ecosystem.config.js ===
# PM2 by mal spusti콘 v코etky 3 procesy automaticky
pm2 start ecosystem.config.js --env production

# === KROK 4: Skontrolova콘, 캜i be쬴a v코etky procesy ===
pm2 status

# Mali by ste vidie콘:
# - premarketprice (online)
# - pmp-polygon-worker (online)
# - pmp-bulk-preloader (online alebo waiting - ak je mimo trading hours)

# === KROK 5: Ak workers nebe쬴a, spusti콘 ich manu치lne ===
# Polygon worker
pm2 start ecosystem.config.js --only pmp-polygon-worker --env production

# Bulk preloader (be쮂 pod쬬 cron, ale m칪쬰te ho spusti콘 manu치lne)
pm2 start ecosystem.config.js --only pmp-bulk-preloader --env production

# === KROK 6: Ulo쬴콘 ===
pm2 save

# === KROK 7: Skontrolova콘 logy ===
pm2 logs pmp-polygon-worker --lines 10
pm2 logs pmp-bulk-preloader --lines 10

