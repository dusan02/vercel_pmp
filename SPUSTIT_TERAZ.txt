# 游 SPUSTI콗 TERAZ - Kop칤rova콘 a spusti콘 na serveri

# === KROK 1: Pripoji콘 sa a prejs콘 do adres치ra ===
ssh root@89.185.250.213
cd /var/www/premarketprice

# === KROK 2: Skontrolova콘 s칰bory ===
ls -la ecosystem.config.js
ls -la server.ts

# === KROK 3: Aktualizova콘 k칩d (ak pou쮂셨ate git) ===
# git pull origin main

# === KROK 4: In코talova콘 z치vislosti (ak boli pridan칠 nov칠) ===
npm install

# === KROK 5: Generova콘 Prisma ===
npx prisma generate

# === KROK 6: Build ===
npm run build

# === KROK 7: Zastavi콘 star칠 procesy ===
pm2 stop premarketprice
pm2 delete premarketprice

# === KROK 8: Spusti콘 nov칠 procesy ===
pm2 start ecosystem.config.js --env production

# === KROK 9: Ulo쬴콘 ===
pm2 save

# === KROK 10: Skontrolova콘 ===
pm2 status
pm2 logs premarketprice --lines 20

# === KROK 11: Skontrolova콘 port ===
netstat -tlnp | grep 3000
# Mali by ste vidie콘: 127.0.0.1:3000

