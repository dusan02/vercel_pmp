cd /var/www/premarketprice && echo "=== 1. KONTROLA DATABÁZY - SECTOR A INDUSTRY ===" && echo "" && echo "Počet tickerov celkom:" && npx prisma db execute --stdin <<< "SELECT COUNT(*) FROM \"Ticker\";" 2>/dev/null | tail -1 && echo "" && echo "Počet tickerov s NULL sector:" && npx prisma db execute --stdin <<< "SELECT COUNT(*) FROM \"Ticker\" WHERE sector IS NULL;" 2>/dev/null | tail -1 && echo "" && echo "Počet tickerov s NULL industry:" && npx prisma db execute --stdin <<< "SELECT COUNT(*) FROM \"Ticker\" WHERE industry IS NULL;" 2>/dev/null | tail -1 && echo "" && echo "Príklady tickerov s NULL sector/industry (prvých 10):" && npx prisma db execute --stdin <<< "SELECT symbol, sector, industry FROM \"Ticker\" WHERE sector IS NULL OR industry IS NULL LIMIT 10;" 2>/dev/null && echo "" && echo "Príklady tickerov S sector/industry (prvých 10):" && npx prisma db execute --stdin <<< "SELECT symbol, sector, industry FROM \"Ticker\" WHERE sector IS NOT NULL AND industry IS NOT NULL LIMIT 10;" 2>/dev/null && echo "" && echo "=== 2. KONTROLA API ENDPOINT ===" && echo "" && echo "Test API /api/stocks?tickers=AAPL,MSFT,GOOGL,NVDA:" && curl -s "http://localhost:3000/api/stocks?tickers=AAPL,MSFT,GOOGL,NVDA" 2>/dev/null | grep -E '"sector"|"industry"' | head -10 && echo "" && echo "=== 3. KONTROLA KONKRÉTNYCH TICKEROV ===" && echo "" && echo "AAPL, MSFT, GOOGL, NVDA, META, AMZN, TSLA z databázy:" && npx prisma db execute --stdin <<< "SELECT symbol, sector, industry FROM \"Ticker\" WHERE symbol IN ('AAPL', 'MSFT', 'GOOGL', 'NVDA', 'META', 'AMZN', 'TSLA') ORDER BY symbol;" 2>/dev/null && echo "" && echo "=== 4. KONTROLA SCRIPTOV ===" && echo "" && echo "Existujúce scripty na naplnenie sector/industry:" && ls -la scripts/*sector* scripts/*industry* scripts/*bootstrap* 2>/dev/null | head -5 && echo "" && echo "✅ DIAGNOSTIKA HOTOVÁ"

