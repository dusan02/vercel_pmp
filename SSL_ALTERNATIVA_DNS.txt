# 游댏 ALTERNAT칈VNE RIEENIE: DNS-01 Challenge
# Pou쬴te, ak HTTP-01 challenge nefunguje (firewall, port 80 blokovan칳)

# 1. Manu치lna DNS challenge
certbot certonly --manual --preferred-challenges dns -d premarketprice.com -d www.premarketprice.com

# Certbot v치m zobraz칤:
# Please deploy a DNS TXT record under the name
# _acme-challenge.premarketprice.com with the following value:
# 
# xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
#
# Press Enter to Continue

# 2. PRED stla캜en칤m Enter:
# - Prihl치ste sa do DNS spr치vcu (active24.cz)
# - Pridajte TXT z치znam:
#   N치zov: _acme-challenge.premarketprice.com
#   Typ: TXT
#   Hodnota: [hodnota z Certbot]
#   TTL: 300 (alebo minim치lne)

# 3. Po캜kajte na propag치ciu DNS (2-5 min칰t)
# Overte:
dig _acme-challenge.premarketprice.com TXT

# 4. Stla캜te Enter v Certbot

# 5. Po 칰spe코nom vytvoren칤 certifik치tu, upravte Nginx manu치lne:
# Pridajte do /etc/nginx/sites-available/premarketprice.com:
#
# server {
#     listen 443 ssl http2;
#     server_name premarketprice.com www.premarketprice.com;
#     
#     ssl_certificate /etc/letsencrypt/live/premarketprice.com/fullchain.pem;
#     ssl_certificate_key /etc/letsencrypt/live/premarketprice.com/privkey.pem;
#     ...
# }

# 6. Re코tart Nginx
nginx -t
systemctl restart nginx

# 7. Overenie
curl -I https://premarketprice.com

