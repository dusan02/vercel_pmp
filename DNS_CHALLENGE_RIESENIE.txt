# 游댏 DNS-01 CHALLENGE RIEENIE (ak HTTP-01 nefunguje)

# === KROK 1: Spusti콘 certbot s DNS challenge ===
certbot certonly --manual --preferred-challenges dns -d premarketprice.com -d www.premarketprice.com

# === KROK 2: Certbot v치m zobraz칤 nie캜o tak칠to ===
# Please deploy a DNS TXT record under the name
# _acme-challenge.premarketprice.com with the following value:
# 
# XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# 
# Press Enter to Continue

# === KROK 3: Prida콘 TXT z치znam do DNS ===
# 1. Prihl치si콘 sa do DNS spr치vcu (Active24)
# 2. Prida콘 nov칳 TXT z치znam:
#    N치zev: _acme-challenge.premarketprice.com
#    Typ: TXT
#    Obsah: [hodnota z certbot]
# 3. Po캜ka콘 5-10 min칰t na propag치ciu DNS
# 4. Stla캜i콘 Enter v certbot termin치li

# === KROK 4: Certbot dokon캜칤 verifik치ciu ===
# Ak je v코etko OK, certbot vygeneruje certifik치t

# === KROK 5: Skontrolova콘 certifik치t ===
ls -la /etc/letsencrypt/live/premarketprice.com/

# === KROK 6: Reload Nginx ===
systemctl reload nginx

# === KROK 7: Testova콘 ===
curl -k https://premarketprice.com/api/health

# === POZN츼MKA ===
# DNS-01 challenge je pomal코칤, ale nevy쬬duje otvoren칳 port 80
# Je u쬴to캜n칳, ak m치te firewall, ktor칳 blokuje port 80

