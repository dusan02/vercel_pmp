# 游늶 SKONTROLOVA콗 LOGY - Kop칤rova콘 a spusti콘 na serveri

# === KROK 1: Prejs콘 do adres치ra ===
cd /var/www/premarketprice

# === KROK 2: Po캜ka콘 chv칤쬿 (5-10 sek칰nd), k칳m sa server spust칤 ===
sleep 5

# === KROK 3: Skontrolova콘 logy premarketprice ===
pm2 logs premarketprice --lines 50

# H쬬da콘:
# - "游 Next.js server ready on http://localhost:3000" (spr치vne)
# - "游 Next.js server ready on http://localhost:3001" (zl칠 - potrebuje opravu)

# === KROK 4: Skontrolova콘 chybov칠 logy ===
pm2 logs premarketprice --err --lines 50

# === KROK 5: Skontrolova콘 porty ===
netstat -tlnp | grep -E "3000|3001"
# Alebo
ss -tlnp | grep -E "3000|3001"

# === KROK 6: Skontrolova콘 PM2 environment premenn칠 ===
pm2 describe premarketprice | grep -A 20 "env:"

# === KROK 7: Ak be쮂 na porte 3001, re코tartova콘 s explicitn칳m PORT=3000 ===
# pm2 stop premarketprice
# pm2 delete premarketprice
# PORT=3000 pm2 start ecosystem.config.js --only premarketprice --env production
# pm2 save

